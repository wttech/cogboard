import java.util.regex.Matcher

release {
    preTagCommitMessage = '[skip travis] [Gradle Release] Pre tag: '
    tagCommitMessage = '[skip travis] [Gradle Release] Creating tag: '
    newVersionCommitMessage = '[skip travis] [Gradle Release] New version: '
    tagTemplate = 'v${version}'
    versionPropertyFile = 'gradle.properties'
    versionPatterns = [
        /[.]*\.(\d+)\.(\d+)[.]*/: { Matcher m, Project p -> m.replaceAll(".${(m[0][1] as int) + 1}.0") }
    ]
    buildTasks=['functionalTests']
    git {
        requireBranch = 'master'
    }
}

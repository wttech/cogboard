openapi: "3.0.0"
info:
  version: 1.0.0
  title: CogBoard
  description: CogBoard

servers:
  - url: https://{domain}:{port}
    description: The local API server
    variables:
      domain:
        default: localhost
        description: api domain
      port:
        enum:
          - '8092'
        default: '8092'
  - url: ws://{domain}:{port}
    description: The Websocket server
    variables:
      domain:
        default: localhost
        description: websockets
      port:
        enum:
          - '9001'
        default: '9001'

paths:
  /api/config:
    get:
      operationId: config-get-handler
      responses:
        default:
          description: Config Get Handler
  /api/login:
    post:
      operationId: generate-jwt-handler
      responses:
        default:
          description: Generate JWT Token
  /api/endpoints:
    get:
      operationId: endpoints-handler
      security:
        - cogboardAuth: []
      responses:
        default:
          description: Endpoint list
  /api/config/save:
    post:
      operationId: config-save-handler
      security:
        - cogboardAuth: []
      responses:
        default:
          description: Config Save Handler
  /api/widget/update:
    post:
      operationId: widget-update-handler
      security:
        - cogboardAuth: []
      responses:
        default:
          description: Widget Update Handler
  /*:
    get:
      operationId: cogboard-react-app
      responses:
        default:
          description: Cogboard Home

components:
  securitySchemes:
    cogboardAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT